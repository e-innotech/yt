<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>用户管理</title>
    <link rel="stylesheet" href="bootstrap.min.css"/>
    <link rel="stylesheet" href="index.css"/>
    <link rel="stylesheet" href="list.css"/>
    <script src="jquery.min.js"></script>
    <script src="common.js"></script>
    <script type="text/javascript" src="pager.js"></script>

</head>
<body>

	<div id="query-div">
		<input type="text" name="userName" id="userName">
		<input type="button" id="query-btn" value="查询">
	</div>
  <!-- 遮罩 -->
   <div class="alertbox">
      <div class="add">
          <form class="form-horizontal">
              <div class="form-group" style="margin-top:30px;">
                  <label class="col-sm-2 control-label">姓名</label>
                  <div class="col-sm-10">
                      <input class="form-control input1" id="input1"/>
                  </div>
              </div>
             
              <div class="form-group">
                  <label class="col-sm-2 control-label ">密码</label>
                  <div class="col-sm-10">
                      <input class="form-control input1" id="input4"/>
                  </div>
              </div>
          </form>
          <button class="btn btn-success btn1">确定</button>
          <button class="btn btn-warning btn2">取消</button>
      </div>
      <div class="del">
          <p>
             您确定要删除吗？
          </p>
          <button class="btn btn-success btn1">确定</button>
          <button class="btn btn-warning btn2">取消</button>
      </div>

      <div class="revise">
          <form class="form-horizontal">
              <div class="form-group" style="margin-top:30px;">
                  <label class="col-sm-2 control-label">姓名</label>
                  <div class="col-sm-10">
                      <input class="form-control input1" id="inputs1"/>
                  </div>
              </div>
              <div class="form-group">
                  <label class="col-sm-2 control-label">性别</label>
                  <div class="col-sm-10">
                      <input class="form-control input1" id="inputs2"/>
                  </div>
              </div>
              <div class="form-group">
                  <label class="col-sm-2 control-label">账号</label>
                  <div class="col-sm-10">
                      <input class="form-control input1" id="inputs3"/>
                  </div>
              </div>
              <div class="form-group">
                  <label class="col-sm-2 control-label ">身份</label>
                  <div class="col-sm-10">
                      <input class="form-control input1" id="inputs4"/>
                  </div>
              </div>
          </form>
          <button class="btn btn-success btn1 baocun">保存</button>
          <button class="btn btn-warning btn2">取消</button>

      </div>
      <div class="find">
          <form class="form-horizontal">
              <div class="form-group" style="margin-top:30px;">
                  <label class="col-sm-2 control-label">姓名</label>
                  <div class="col-sm-10">
                      <span class="form-control input1" id="Input1"></span>
                  </div>
              </div>
              <div class="form-group">
                  <label class="col-sm-2 control-label">性别</label>
                  <div class="col-sm-10">
                      <span class="form-control input1" id="Input2"></span>
                  </div>
              </div>
              <div class="form-group">
                  <label class="col-sm-2 control-label">账号</label>
                  <div class="col-sm-10">
                      <span class="form-control input1" id="Input3"></span>
                  </div>
              </div>
              <div class="form-group">
                  <label class="col-sm-2 control-label ">身份</label>
                  <div class="col-sm-10">
                      <span class="form-control input1" id="Input4"></span>
                  </div>
              </div>
          </form>
          <button class="btn btn-warning btn2 yes">确定</button>

      </div>
  </div>

<!--表格-->
<div class="wrapper wrapper-content system" style="width: 75%">
    <div class="list_4 row">
        <div class="table-responsive">
            <table class="table" id="table">
                <thead>
                <tr>
                    <th>id</th>
                    <th>用户名</th>
                    <th>密码</th>
                    <th>状态</th>
                    <th>时间</th>
                    <th>操作</th>
                    <!--     <th>id</th>
                        <th>用户名</th>
                        <th>性别</th>
                        <th>操作</th> -->
                </tr>

                </thead>
                <tbody>


                </tbody>
            </table>
        </div>
    </div>

</div>
  <div>
      <ul class="pagination fr page1"></ul>
  </div>
</body>

<script>

    /*分页*/
    Page({
        num: 100,					//页码数
        startnum: 1,				//指定页码

        elem: $('.page1'),		//指定的元素
        callback: function (n) {	//回调函数
            console.log(n);
        }
    });
  //发送ajax请求，拿到数据并渲染到页面上
$(document).ready(function() {
     $.ajax({
        type:"get",//请求方式
        url:"http://192.168.20.195:8080/user/query",//请求路径
        async:false,
        dataType:"json",//数据格式
        success: function(resultdata){
          console.log(resultdata);
          for(var i=0;i<resultdata.length;i++){
             str="<tr><td>"+resultdata[i].id+"</td>" +
                  "<td>"+resultdata[i].userName+"</td>" +
                  "<td>"+resultdata[i].passWord+"</td>" +
                  "<td>"+resultdata[i].isUse+"</td>" +
             "<td>"+resultdata[i].createDate+"</td>" +
                  "<td>" +"<input type='button' value='增加'/>"  +
                  "<input type='button' value='删除'/>" +
                  "<input type='button' value='修改'/>" +
                  "<input type='button' value='查找'/> " +
                  "</td></tr>";
                  $("tbody").append(str);
          }
        }
    });
     
    $("#query-btn").click(function(){
    	alert("abc");
    });
});

 //点击增删改查按钮时做判断分别进入不同的方法
  $("tbody").on("click","input",function (e) {
          // console.log(555555555)
          e = e || window.event;
          var target = e.target;
          switch (target.value) {
              case "增加":
                  add();
                  break;
              case "删除":
                  del(e);
                  break;
              case "修改":
                  revise();
                  break;
              case "查找":
                  find();
                  break;
          }

  });



</script>
</html>