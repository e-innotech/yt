<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>用户管理</title>
    <link rel="stylesheet" href="../common/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../common/css/index.css"/>
    <link rel="stylesheet" href="../css/common.css"/>
    <link rel="stylesheet" href="../css/list_4.css"/>
    <link rel="stylesheet" href="../css/advertising.css"/>
    <script src="../common/js/jquery.min.js"></script>
    <script src="../common/js/common.js"></script>
</head>
<body>

<!--添加弹出框-->
<div class="modal fade add" id="myModal" tabindex="-1"  aria-labelledby="myModalLabel" aria-hidden="true" style="top: 20%;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title" id="myModalLabel" >新增</h4>
            </div>
            <div class="modal-body" style="overflow: hidden;">
                <div class="form-group modal_conment">
                    <label class="col-sm-3 control-label">用户名</label>

                    <div class="col-sm-7">
                        <input class="form-control input1" id="addinput1"/>

                    </div>
                </div>
                <div class="form-group modal_conment">
                    <label class="col-sm-3 control-label">状态</label>

                    <div class="col-sm-7">
                        <input class="form-control input1" id="addinput2"/>
                    </div>
                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn2" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary btn1">确认</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!--删除弹出框-->
<div class="modal fade del" id="delmyModal" tabindex="-1"  aria-labelledby="myModalLabel" aria-hidden="true" style="top: 20%;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <!--
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                -->
                <h4 class="modal-title" id="delmyModalLabel" >删除</h4>
            </div>
            <div class="modal-body" style="overflow: hidden;">
                <p>您确认删除吗？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn2" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary btn1">确认</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<!--修改弹出框-->
<div class="modal fade revise" id="revisemyModal" tabindex="-1"  aria-labelledby="myModalLabel" aria-hidden="true" style="top: 20%;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <!--
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                -->
                <h4 class="modal-title" id="revisemyModalLabel" >修改</h4>
            </div>
            <div class="modal-body" style="overflow: hidden;">
                <div class="form-group modal_conment">
                    <label class="col-sm-3 control-label">用户名</label>

                    <div class="col-sm-7">
                        <input class="form-control input1" id="reviseinput1"/>
                    </div>
                </div>
                <div class="form-group modal_conment">
                    <label class="col-sm-3 control-label">密码</label>

                    <div class="col-sm-7">
                        <input class="form-control input1" id="reviseinput2"/>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn2" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary btn1">确认</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<!--
&lt;!&ndash; 遮罩 &ndash;&gt;
<div class="alertbox">
    <div class="add">
        <form class="form-horizontal">
            <div class="form-group" style="margin-top:30px;">
                <label class="col-sm-2 control-label">用户名</label>

                <div class="col-sm-10">
                    <input class="form-control input1" id="addinput1"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">状态</label>

                <div class="col-sm-10">
                    <input class="form-control input1" id="addinput2"/>
                </div>
            </div>
            &lt;!&ndash;<div class="form-group">&ndash;&gt;
            &lt;!&ndash;<label class="col-sm-2 control-label">账号</label>&ndash;&gt;
            &lt;!&ndash;<div class="col-sm-10">&ndash;&gt;
            &lt;!&ndash;<input class="form-control input1" id="input3"/>&ndash;&gt;
            &lt;!&ndash;</div>&ndash;&gt;
            &lt;!&ndash;</div>&ndash;&gt;
            &lt;!&ndash;<div class="form-group">&ndash;&gt;
            &lt;!&ndash;<label class="col-sm-2 control-label ">身份</label>&ndash;&gt;
            &lt;!&ndash;<div class="col-sm-10">&ndash;&gt;
            &lt;!&ndash;<input class="form-control input1" id="input4"/>&ndash;&gt;
            &lt;!&ndash;</div>&ndash;&gt;
            &lt;!&ndash;</div>&ndash;&gt;
        </form>
        <button class="btn btn-success btn1">确定</button>
        <button class="btn btn-warning btn2">取消</button>
    </div>
    <div class="del">
        <p>
            您确定要删除吗？
        </p>
        <button class="btn btn-success btn1">确定</button>
        <button class="btn btn-warning btn2">取消</button>
    </div>

    <div class="revise">
        <form class="form-horizontal">

            <div class="form-group">
                <label class="col-sm-2 control-label">账号</label>

                <div class="col-sm-10">
                    <input class="form-control input1" id="inputs1"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label ">密码</label>

                <div class="col-sm-10">
                    <input class="form-control input1" id="inputs4"/>
                </div>
            </div>
        </form>
        <button class="btn btn-success btn1 baocun">保存</button>
        <button class="btn btn-warning btn2">取消</button>

    </div>
    <div class="find">
        <form class="form-horizontal">
            <div class="form-group" style="margin-top:30px;">
                <label class="col-sm-2 control-label">姓名</label>

                <div class="col-sm-10">
                    <span class="form-control input1" id="Input1"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">性别</label>

                <div class="col-sm-10">
                    <span class="form-control input1" id="Input2"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">账号</label>

                <div class="col-sm-10">
                    <span class="form-control input1" id="Input3"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label ">身份</label>

                <div class="col-sm-10">
                    <span class="form-control input1" id="Input4"></span>
                </div>
            </div>
        </form>
        <button class="btn btn-warning btn2 yes">确定</button>

    </div>
</div>
-->

<!--表格-->
<div class="wrapper wrapper-content system" style="width: 75%">
    <input type="button" value="增加" onclick="add()"/>
    <input type="text" class="btn_find"/><input type="button" value="查找"  onclick="queryAll_find()"/>

    <div class="list_4 row">
        <div class="table-responsive">
            <table class="table" id="table">
                <thead>
                <tr>
                    <th>id</th>
                    <th>用户名</th>
                    <th>密码</th>
                    <th>状态</th>
                    <th>时间</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>


                </tbody>
            </table>
        </div>
    </div>
</div>
</body>

<script>
    //发送ajax请求，拿到数据并渲染到页面上
    $(document).ready(function () {
        setTimeout(function () {}, 500);
        $.ajax({
            //用户数据表
            type: "get",//请求方式
            //url:"http://192.168.20.195:8080/user/query",//请求路径
            url: "data.json",//请求路径
            async: false,
            dataType: "json", //数据格式
            success: function (data) {
                console.log(data);
                console.log(data[0]);
                for (var i = 0; i < data.length; i++) {
                    str = "<tr>" +
                    "<td>" + data [i].id + "</td>" +
                    "<td>" + data[i].userName + "</td>" +
                    "<td>" + data[i].passWord + "</td>" +
                    '<td><p class="' + (data[i].isUse == 0 ? 'anniu' : 'anniu active') + '" style="margin: 0 auto;" onclick="anniu(this)"><span> </span></p></td>' +  //+ resultdata[i].isUse +
                    "<td>" + data[i].createDate + "</td>" +
                    "<td>" +
                    "<input type='button' value='删除' onclick='del()'/>" +
                    "<input type='button' value='修改' onclick='revise()'/>" +
                    "</td></tr>";
                    $("tbody").append(str);
                }
            }
        });
        test();
        revise_is();
        $(".modal-footer .btn2").click(function(){
            $(".modal").css("display","none")
        })
        /*$(".addModal").click(function(){
            $(".modal").css("display","block")
        })*/
        /*$.ajax({

            //用户表
            type: "get",//请求方式
            //url:"http://192.168.20.195:8080/user/query",//请求路径
            url: "uname.json",//请求路径
            async: false,
            dataType: "json", //数据格式
            success: function (resultdata) {
                //console.log(resultdata);
                for (var i = 0; i < resultdata.length; i++) {
                    str = "<tr>" +
                    "<td>" + resultdata [i].id + "</td>" +
                    "<td>" + resultdata[i].uname + "</td>" +
                    "<td>" + resultdata[i].pwd + "</td>" +
                    "<td>" + resultdata[i].isUse + "</td>" +
                    "<td>" + resultdata[i].user_group_id + "</td>" +
                    "<td>" +
                    "<input type='button' value='删除' onclick='del(e)'/>" +
                    "<input type='button' value='修改' onclick='膝盖'/>" +
                    "</td></tr>";
                    $("tbody").append(str);

                }
            }
        });*/


        //点击增删改查按钮时做判断分别进入不同的方法
        $("tbody").on("click", "input", function (e) {
            console.log(555555555)
            e = e || window.event;
            var target = e.target;
            switch (target.value) {
                case "增加":
                    add();
                    break;
                case "删除":
                    del(e);
                    break;
                case "修改":
                    revise();
                    break;
                case "查找":
                    find();
                    break;
            }

        });

    });






</script>
</html>