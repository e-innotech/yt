<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>用户修改信息界面</title>
    <link rel="stylesheet" href="../../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../css/index.css"/>
    <link rel="stylesheet" href="../../css/list.css"/>
    <script type="text/javascript" src="../../js/jquery.min.js"></script>
    <style>
        .form-horizontal .form-group {
            margin-left: 77px;
            margin-right: 0;
        }

        .control-label {
            width: 19%;
        }


    </style>
</head>
<body>
<div class="container">
    <div class="user">
        <form class="form-horizontal">
            <p></p>

            <div class="upload">
                <p>上传图片</p>
                <input type="file"/>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">昵称</label>

                <div class="col-sm-7">
                    <input type="text" name="name" class="form-control" placeholder="昵称" maxlength="5">
                    <span style="color: #f00;position:absolute;top:8px;left:235px;width: 100%;"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">手机号码</label>

                <div class="col-sm-7" style="position: relative;">
                    <input type="text" name="userName" class="form-control" placeholder="手机号码" maxlength="11">
                    <span style="color: #f00;position:absolute;top:8px;left:235px;width: 100%;"></span>
                </div>

            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">密码</label>

                <div class="col-sm-7">
                    <input type="password" name="password" class="form-control" placeholder="密码">
                    <span style="color: #f00;position:absolute;top:8px;left:235px;width: 100%;"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Email</label>

                <div class="col-sm-7">
                    <input type="text" name="email" class="form-control" placeholder="电子邮箱">
                    <span style="color: #f00;position:absolute;top:8px;left:235px;width: 100%;"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">身份证号</label>

                <div class="col-sm-7">
                    <input type="text" name="idCard" class="form-control" placeholder="身份证号码">
                    <span style="color: #f00;position:absolute;top:8px;left:235px;width: 100%;"></span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">用户权限</label>

                <div class="col-sm-9 account-message">
                    <!--<input type="email" class="form-control">-->
                    <select class="form-control">
                        <option>管理员</option>
                        <option>后台人员</option>
                        <option>普通会员</option>
                        <option>超级会员</option>
                    </select>
                    <!--<ul>-->
                    <!--<li>管理员</li>-->
                    <!--<li>后台人员</li>-->
                    <!--<li>普通会员</li>-->
                    <!--<li>超级会员</li>-->
                    <!--</ul>-->
                </div>
            </div>
            <div class="account-message1">
                <button type="button" class="btn bth">提交</button>
            </div>
        </form>
    </div>
</div>


<script>
    //汉字昵称
    var h = /^[\u4e00-\u9fa5]{0,5}$/;
    //手机号
    var d = /^1[3|4|5|7|8][0-9]\d{4,8}$/;
    //邮箱
    var y = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;
    //密码
    var p = /^[a-zA-Z]\w{5,17}$/;
    //身份证
    var idCard = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;


    $("input").focus(function () {
        $(this).prev().css("color", "#008DE8");
    });

    $("[name='name']").blur(function () {
        var v = $(this).val();
        if (v == '') {
            $("[name='name']").next().html("姓名不能为空！");
            $(this).prev().css("color", "#f00");
        } else if (!v.match(h)) {
            $("[name='name']").next().html("姓名不合法！");
            $("[name='name']").prev().css("color", "#f00");
        } else {
            $(this).prev().css("color", "#0EA74A");
            $("[name='name']").next().html("");
        }
    });
    $("[name='userName']").blur(function () {
        var v = $(this).val();
        if (v == '') {
            $("[name='userName']").next().html("手机号不能为空！");
            $(this).prev().css("color", "#f00");
        } else if (!v.match(d)) {
            $("[name='userName']").next().html("手机号不正确！");
            $("[name='userName']").prev().css("color", "#f00");
        } else {
            $(this).prev().css("color", "#0EA74A");
            $("[name='password']").next().html("");
        }
    });
    $("[name='password']").blur(function () {
        var v = $(this).val();
        if (v == '') {
            $("[name='password']").next().html("密码不能为空！");
            $(this).prev().css("color", "#f00");
        } else if (!v.match(p)) {
            $("[name='password']").next().html("密码不正确！");
            $("[name='password']").prev().css("color", "#f00");
        } else {
            $(this).prev().css("color", "#0EA74A");
            $("[name='password']").next().html("");
        }
    });

    $("[name='email']").blur(function () {
        var v = $(this).val();
        if (v == '') {
            $(this).prev().css("color", "#999");
        } else if (!v.match(y)) {
            $("[name='email']").next().html("请填写正确的邮箱！");
            $("[name='email']").prev().css("color", "#f00");
        } else {
            $(this).prev().css("color", "#0EA74A");
            $("[name='email']").next().html("");
        }
    });
    $("[name='idCard']").blur(function () {
        var v = $(this).val();
        if (v == '') {
            $("[name='idCard']").next().html("身份证号码不能为空！");
            $(this).prev().css("color", "#f00");
        } else if (!v.match(idCard)) {
            $("[name='idCard']").next().html("身份证号码不正确！");
            $("[name='idCard']").prev().css("color", "#f00");
        } else {
            $(this).prev().css("color", "#0EA74A");
            $("[name='idCard']").next().html("");
        }
    });


    $('.button').click(function () {
        var name = $("[name='name']").val();
        var phone = $("[name='phone']").val();
        var email = $("[name='email']").val();
        var password = $("[name='password']").val();
        var idCard = $("[name='idCard']").val();

        if (name == "") {
            $("[name='name']").next().html("姓名不能为空！");
            return;
        } else if (!name.match(h)) {
            $("[name='name']").next().html("姓名不合法！");
            $("[name='name']").prev().css("color", "#f00");
            return;
        }
        if (phone == '') {
            $("[name='phone']").next().html("手机号码不能为空！");
            return;
        } else if (!phone.match(d)) {
            $("[name='phone']").next().html("请填写正确的手机号！");
            $("[name='phone']").prev().css("color", "#f00");
            return;
        }

        if (email != '' && !email.match(y)) {
            $("[name='email']").next().html("请填写正确的邮箱！");
            $("[name='email']").prev().css("color", "#f00");
            return;
        }
        if (password == '') {
            $("[name='password']").next().html("手机号码不能为空！");
            return;
        } else if (!password.match(p)) {
            $("[name='password']").next().html("请填写正确的手机号！");
            $("[name='password']").prev().css("color", "#f00");
            return;
        }
        if (idCard == '') {
            $("[name='idCard']").next().html("手机号码不能为空！");
            return;
        } else if (!idCard.match(idCard)) {
            $("[name='idCard']").next().html("请填写正确的手机号！");
            $("[name='idCard']").prev().css("color", "#f00");
            return;
        }

    });

</script>
</body>
</html>